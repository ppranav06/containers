---
services:
  netbootxyz:
    image: ghcr.io/netbootxyz/netbootxyz
    container_name: netbootxyz
    environment:
      # - MENU_VERSION=2.0.84 # optional
      - NGINX_PORT=80 # optional
      - WEB_APP_PORT=3000 # optional
      - DHCP_MODE=proxy
      - PROXY_DHCP=true
      - PROXYDHCP_HTTP_PORT=80
    volumes:
      - /path/to/config:/config # optional
      - $HOME/Downloads/ISO:/assets # optional
    ports:
      - 3000:3000  # optional, destination should match ${WEB_APP_PORT} variable above.
      - 69:69/udp
      - 8080:80  # optional, destination should match ${NGINX_PORT} variable above.
      - 4011:4011/udp  # ProxyDHCP port
    network_mode: host  # Ensures broadcasts reach container (critical for proxy)
    restart: unless-stopped
